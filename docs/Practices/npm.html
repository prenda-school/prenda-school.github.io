<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-Practices/npm">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.3.0">
<title data-rh="true">NPM best practices | Prenda Engineering Documentation</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://prenda-school.github.io/docs/Practices/npm"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="NPM best practices | Prenda Engineering Documentation"><meta data-rh="true" name="description" content="TLDR"><meta data-rh="true" property="og:description" content="TLDR"><link data-rh="true" rel="icon" href="/img/favicon.png"><link data-rh="true" rel="canonical" href="https://prenda-school.github.io/docs/Practices/npm"><link data-rh="true" rel="alternate" href="https://prenda-school.github.io/docs/Practices/npm" hreflang="en"><link data-rh="true" rel="alternate" href="https://prenda-school.github.io/docs/Practices/npm" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Prenda Engineering Documentation RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Prenda Engineering Documentation Atom Feed"><link rel="stylesheet" href="/assets/css/styles.908d8d88.css">
<link rel="preload" href="/assets/js/runtime~main.8d7d2d6c.js" as="script">
<link rel="preload" href="/assets/js/main.dfb9ca77.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.png" alt="Prenda Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/logo.png" alt="Prenda Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">Prenda Engineering</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/introduction">Docs</a></div><div class="navbar__items navbar__items--right"><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/introduction">How we engineer at Prenda</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item example"><a class="menu__link" href="/docs/template">Template</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/ArchitectureBoard">Architecture Board</a><button aria-label="Toggle the collapsible sidebar category &#x27;Architecture Board&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/CriticalProcesses">Critical Processes</a><button aria-label="Toggle the collapsible sidebar category &#x27;Critical Processes&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/Data/Masking/how-we-mask-data">Data</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/Policies/outages-and-calendar-policy">Policies</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/docs/Practices/how-we-engineer">Practices</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Practices/how-we-engineer">Prenda: Engineering Team Principles</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/Practices/npm">NPM best practices</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Practices/product-analytics">Product Analytics</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/Practices/hub">Working with Bounded Contexts in Hub</a><button aria-label="Toggle the collapsible sidebar category &#x27;Working with Bounded Contexts in Hub&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/Staging/overview">Staging</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/external-documentation">External Docs</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/glossary">Glossary</a></li></ul></nav></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Practices</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">NPM best practices</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>NPM best practices</h1><h4 class="anchor anchorWithStickyNavbar_LWe7" id="tldr">TLDR<a href="#tldr" class="hash-link" aria-label="Direct link to TLDR" title="Direct link to TLDR">​</a></h4><p>Always run <code>nvm use</code> before starting a project. Use <code>npm i</code> for keeping installed packages up-to-date in everyday development. Pay attention to package lock file updates from <code>npm i</code> and open isolated pull requests fo them. Use <code>npm ci</code> when you want to mimic automated jobs (like CI) or install packages exactly as the lock file describes.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="node-and-npm-version-management">Node and NPM version management<a href="#node-and-npm-version-management" class="hash-link" aria-label="Direct link to Node and NPM version management" title="Direct link to Node and NPM version management">​</a></h3><p>We encourage using a version manager to switch Node and NPM versions between different projects. We suggest using the Node Version Manager project, <a href="https://github.com/nvm-sh/nvm" target="_blank" rel="noopener noreferrer">NVM</a>. After installation, <code>cd</code> into the directory and then run <code>nvm use</code>. For more information, please see the <a href="https://github.com/nvm-sh/nvm#usage" target="_blank" rel="noopener noreferrer">NVM usage documentation</a>. You can also use <a href="https://asdf-vm.com/" target="_blank" rel="noopener noreferrer">ASDF</a> which is a version manager for multiple languages, including node.</p><p>In the case of Prenda World, the project is built on the Meteor framework which bundles and uses a set version of Node and NPM. The Meteor documentation advises using these bundled instances that are accessible under the Meteor program, <code>meteor node ...</code> and <code>meteor npm ...</code>. We maintain synchronization of the bundled Meteor versions with the project configuration file so that it is <strong>equivalent</strong> for you to use Node/NPM directly after using your version manager: <code>nvm use</code> and then <code>node ...</code> or <code>npm ...</code>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="package-updates">Package updates<a href="#package-updates" class="hash-link" aria-label="Direct link to Package updates" title="Direct link to Package updates">​</a></h3><ul><li>We encourage keeping npm packages up to date and using best practices when considering installing packages, updating packages, and removing packages.</li><li>We should use proper <a href="https://semver.org/" target="_blank" rel="noopener noreferrer">SEMVER</a> practices. This includes using your package.json to define what versions of the package are okay to install. We should try to default to only patch updates (with <code>~</code>) to minimize accidental updates of minor packages that <em>could</em> break the application.</li><li>We encourage use of <code>npm install</code> (or <code>npm i</code>, for short) after every pull, or reasonably often, to ensure developers are always working with the latest dependencies installed.<ul><li>We require that updates to the package-lock (<code>package-lock.json</code>) made through the use of the routine <code>npm install</code> are submitted in dedicated PR&#x27;s, not mixed with other code changes -- they are expected and apply to every engineer&#x27;s environment.</li><li>These routine, &quot;re&quot;-installs are a separate concern from modifying dependencies, see below.</li></ul></li><li>We encourage the use of <code>npm ci</code> to simulate the behavior and environment in automated processes like continuous integration jobs. This command should never change the package-lock.</li><li>We encourage seperation of modifying (installing project dependencies, i.e. changes to the package and lock file (<code>package.json</code>/<code>package-lock.json</code>).<ul><li>&quot;modifying&quot; = installing, uninstalling, upgrading, downgrading, etc.</li><li>The exception is dependency modification for code you&#x27;re working on or having to that is essentially tied to other code modifications, e.g. replacing one package for another and refactoring the code to use the new package instead of the old.</li></ul></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="meteor-specific-practices">Meteor Specific Practices<a href="#meteor-specific-practices" class="hash-link" aria-label="Direct link to Meteor Specific Practices" title="Direct link to Meteor Specific Practices">​</a></h3><p>Meteor encourages using the version of Node and NPM bundled with the tool through its commands like <code>meteor node .</code> and <code>meteor npm ...</code>. Syncing the version of Node/NPM you are using, like outlined above, is an equivalent solution to this advice. </p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="package-update-tools">Package update tools<a href="#package-update-tools" class="hash-link" aria-label="Direct link to Package update tools" title="Direct link to Package update tools">​</a></h3><p>As mentioned above, we encourage <em>keeping packages up to date</em>. There are a couple of interfaces to see what NPM packages are out of date, as well as tools to keep the updates front of mind.</p><ul><li><a href="https://github.com/dylang/npm-check" target="_blank" rel="noopener noreferrer">npm-check</a> -&gt; an interface for seeing all outdated packages broken out by semver with a mechinism to update</li><li><a href="https://github.com/raineorshine/npm-check-updates" target="_blank" rel="noopener noreferrer">npm-check-updates</a> -&gt; similar to npm-check</li><li><a href="https://github.com/dependabot/dependabot-core" target="_blank" rel="noopener noreferrer">dependabot</a> -&gt; Github owned bot that can create issues, or PR&#x27;s to update out of date packages</li></ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/prenda-school/prenda-school.github.io/tree/main/docs/Practices/npm.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/Practices/how-we-engineer"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Prenda: Engineering Team Principles</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/Practices/product-analytics"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Product Analytics</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#node-and-npm-version-management" class="table-of-contents__link toc-highlight">Node and NPM version management</a></li><li><a href="#package-updates" class="table-of-contents__link toc-highlight">Package updates</a></li><li><a href="#meteor-specific-practices" class="table-of-contents__link toc-highlight">Meteor Specific Practices</a></li><li><a href="#package-update-tools" class="table-of-contents__link toc-highlight">Package update tools</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/introduction">Documentation</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2023 Prenda</div></div></div></footer></div>
<script src="/assets/js/runtime~main.8d7d2d6c.js"></script>
<script src="/assets/js/main.dfb9ca77.js"></script>
</body>
</html>